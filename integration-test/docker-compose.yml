services:
  postgres:
    image: postgres:9.6
    ports:
      - "5432:5432"
    environment:
      POSTGRES_USER: postgres
      POSTGRES_PASSWORD: postgres
      POSTGRES_DB: postgres
  eth-node:
    build: ./EthNode.Dockerfile
    ports:
      - "8545:8545"
    environment:
      - MNEMONIC=your mnemonic
      - INFURA_KEY=your infura key
  chainlink-node:
    build: ./ChainlinkNode.Dockerfile
    ports:
      - "8000:5000"
    volumes:
      - .:/code
      - logvolume01:/var/log
    depends_on:
      - postgres
      - eth-node
  chainlink-ea:
    build: ./ChainlinkEA.Dockerfile
    ports:
      - "8080:8080"
    volumes:
      - .:/code
      - logvolume01:/var/log
    depends_on:
      - chainlink-node
volumes:
  logvolume01: {}
